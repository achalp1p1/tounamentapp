<nav class="submenu">
    <a href="{{ url_for('tournament_info', tournament_id=tournament['Tournament Id']) }}?tab=info" 
       class="submenu-link {% if active_subpage == 'info' %}active{% endif %}">
        <i class="fas fa-info-circle"></i>Info
    </a>
    
    <a href="{{ url_for('tournament_register', tournament_id=tournament['Tournament Id']) }}?tab=register" 
       class="submenu-link {% if active_subpage == 'register' %}active{% endif %}">
        <i class="fas fa-user-plus"></i>Register
    </a>
    
    <a href="{{ url_for('tournament_entries', tournament_id=tournament['Tournament Id']) }}?tab=entries" 
       class="submenu-link {% if active_subpage == 'entries' %}active{% endif %}">
        <i class="fas fa-list"></i>Entries
    </a>
    
    <a href="{{ url_for('tournament_schedule', tournament_id=tournament['Tournament Id']) }}?tab=schedule" 
       class="submenu-link {% if active_subpage == 'schedule' %}active{% endif %}">
        <i class="fas fa-calendar"></i>Schedule
    </a>
    
    <a href="{{ url_for('tournament_results', tournament_id=tournament['Tournament Id']) }}?tab=draws" 
       class="submenu-link {% if active_subpage == 'results' %}active{% endif %}">
        <i class="fas fa-trophy"></i>Draws
    </a>

    <!-- ONLY ONE DROPDOWN CONTROL -->
    <div id="manageMenuContainer" class="manage-dropdown">
        <button id="manageButton" class="submenu-link manage-button {% if active_subpage in ['update_seeding', 'create_draw', 'create_bracket'] %}active{% endif %}">
            <i class="fas fa-cog"></i>Manage
            <span id="manageArrow">â–¼</span>
        </button>
        
        <div id="manageMenu" class="manage-menu">
            <a href="{{ url_for('tournament_update_seeding', tournament_id=tournament['Tournament Id']) }}" 
               class="menu-item {% if active_subpage == 'update_seeding' %}active{% endif %}">
                <i class="fas fa-sort-numeric-up"></i>Update Seeding
            </a>
            <a href="{{ url_for('tournament_create_draw', tournament_id=tournament['Tournament Id']) }}" 
               class="menu-item {% if active_subpage == 'create_draw' %}active{% endif %}">
                <i class="fas fa-random"></i>Create Draw
            </a>
            <a href="{{ url_for('tournament_create_bracket', tournament_id=tournament['Tournament Id']) }}" 
               class="menu-item {% if active_subpage == 'create_bracket' %}active{% endif %}">
                <i class="fas fa-sitemap"></i>Create Bracket
            </a>
        </div>
    </div>
</nav>

<!-- NO OTHER CONTROLS OR PREVIOUS IMPLEMENTATION OUTSIDE THIS SECTION -->

<style>
    /* Clean, minimal styles to avoid conflicts */
    .submenu {
        background: rgba(255, 255, 255, 0.1);
        padding: 10px 36px;
        display: flex;
        gap: 20px;
        align-items: center;
    }

    .submenu-link {
        color: white;
        text-decoration: none;
        font-size: 0.9em;
        font-weight: 500;
        padding: 8px 16px;
        border-radius: 6px;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .submenu-link:hover,
    .submenu-link.active {
        background: rgba(255, 255, 255, 0.2);
    }

    .submenu-link i {
        font-size: 1.1em;
    }

    /* Manage dropdown specific styles */
    .manage-dropdown {
        position: relative;
        display: inline-block;
    }

    .manage-button {
        cursor: pointer;
        border: none;
        background: none;
        font-family: inherit;
    }

    #manageArrow {
        font-size: 0.8em;
        transition: transform 0.2s;
        display: inline-block;
    }

    .manage-menu {
        display: none;
        position: absolute;
        background: white;
        min-width: 200px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        border-radius: 6px;
        z-index: 1000;
        top: 100%;
        left: 0;
        margin-top: 5px;
    }

    .menu-item {
        color: #333;
        text-decoration: none;
        padding: 12px 16px;
        display: flex;
        align-items: center;
        gap: 8px;
        transition: all 0.2s;
    }

    .menu-item:hover,
    .menu-item.active {
        background: #f0f0f0;
        color: #1e3c72;
    }

    .menu-item:first-child {
        border-radius: 6px 6px 0 0;
    }

    .menu-item:last-child {
        border-radius: 0 0 6px 6px;
    }

    .menu-item i {
        width: 20px;
        text-align: center;
    }

    @media (max-width: 768px) {
        .submenu {
            padding: 10px 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .submenu-link {
            padding: 6px 12px;
            font-size: 0.85em;
        }

        .manage-menu {
            position: absolute;
            width: 200px;
        }
    }
</style>

<script>
// Clean, straightforward JavaScript
document.addEventListener('DOMContentLoaded', function() {
    var manageButton = document.getElementById('manageButton');
    var manageMenu = document.getElementById('manageMenu');
    var manageArrow = document.getElementById('manageArrow');
    
    if (manageButton && manageMenu && manageArrow) {
        // Toggle menu when clicking the manage button
        manageButton.addEventListener('click', function(event) {
            event.stopPropagation(); // Prevent document click handler
            
            // Toggle display
            if (manageMenu.style.display === 'block') {
                manageMenu.style.display = 'none';
                manageArrow.style.transform = 'rotate(0deg)';
            } else {
                manageMenu.style.display = 'block';
                manageArrow.style.transform = 'rotate(180deg)';
            }
        });
        
        // Close menu when clicking elsewhere
        document.addEventListener('click', function() {
            manageMenu.style.display = 'none';
            manageArrow.style.transform = 'rotate(0deg)';
        });
        
        // Prevent menu from closing when clicked
        manageMenu.addEventListener('click', function(event) {
            event.stopPropagation();
        });
    } else {
        console.error('One or more required elements not found for the manage dropdown');
    }
});
</script>
